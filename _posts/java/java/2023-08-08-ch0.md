---
title:  "[Java] 리플렉션(Reflection) 알아보기" 

categories:
  - Java
tags:
  - [Java]

toc: true
toc_sticky: true

date: 2023-08-08
last_modified_at: 2023-08-08
---

# 리플렉션

자바는 다른 언어들과는 다르게 동적 로딩, 리플렉션을 지원합니다.
  리플렉션 이라는 개념은 보통 어플리케이션 개발 환경에서는 자주 쓰이지 않고 프레임워크나 라이브러리에서 주로 쓰입니다.
대표적으로 Spring Framework 에서 이 기술을 사용하여 DI를 지원하는데 어떻게 동작하는 지 한 번 알아봅시다.

## 리플렉션(Reflection) 이란 ?
 `리플렉션` 은 구체적인 클래스 타입을 알지 못하더라도 그 클래스의 메서드, 타입, 변수들에 접근할 수 있도록 도와주는 자바 API를 말합니다.
좀 더 자세히 설명하자면, 런타임 시점에 동적으로 특정 클래스의 정보를 추출할 수 있게 도와줘 프로그램에 유연성을 더하는 기법입니다.
다만, 런타임 시점에 인스턴스를 생성하기 때문에 이를 남용한다면 구체적인 동작 흐름을 파악하기 어려울 수 있습니다.

  
일반적으로 리플렉션은 다음과 같은 방식으로 클래스 정보를 얻어올 수 있습니다.
```java
Class obj = Car.class;
Class obj = Class.forName("Car");
```

<br/>

**JVM**은 어플리케이션이 실행되면 환경 변수에 등록되어 있는 모든 클래스들을 먼저 **static area** 에 로드합니다.
이 **static area** 영역은 어플리케이션이 종료될 때까지 소멸되지 않고 존재하기 때문에 reflection 할 때 이 정보들을 바탕으로 동적 로딩할 수 있는 것입니다.

<br/>

## 리플렉션의 활용
보통의 경우 개발자가 위와 같은 방식으로 `리플렉션` 을 활용하는 경우는 거의 없습니다.
그러나 라이브러리, 프레임워크 등의 경우 사용자가 어떤 타입의 클래스를 만들지 예측하기 어렵기 때문에 리플렉션을 사용합니다. 
실제로 IDE의 자동완성이나 Hibernate 등 많은 프레임워크나 라이브러리에서 리플렉션을 사용하고 있습니다.  


**Spring Framework** 에서는 대표적으로 **Spring Container** 의 **BeanFactory** 가 리플렉션 API 를 사용합니다.  
스프링에 등록된 Bean 은 애플리케이션이 실행된 후 런타임 시점에 객체가 호출될 때 동적으로 객체의 인스턴스를 생성하는데 이 때 리플렉션 API 를 사용해 해결하고 있습니다.


[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}
